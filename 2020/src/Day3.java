import java.util.Arrays;
import java.util.List;

public class Day3 {
    private final static List<String> matrix = Arrays.asList(".....##.#.....#........#....##.", "....#...#...#.#.......#........", ".....##.#......#.......#.......", "...##.........#...#............", "........#...#.......#.........#", "..........#......#..#....#....#", "..................#..#..#....##", ".....##...#..#..#..#..#.##.....", "..##.###....#.#.........#......", "#.......#......#......#....##..", ".....#..#.#.......#......#.....", "............#............#.....", "...#.#........#........#.#.##.#", ".#..#...#.....#....##..........", "##..........#...#...#..........", "...........#...###...#.......##", ".#..#............#........#....", "##.#..#.....#.......#.#.#......", ".##.....#....#.#.......#.##....", "..##...........#.......#..##.#.", "##...#.#........#..#...#...#..#", ".#..#........#.#.......#..#...#", ".##.##.##...#.#............##..", "..#.#..###......#..#......#....", ".#..#..#.##.#.##.#.#...........", "...#....#..#.#.#.........#..#..", "......#.#....##.##......#......", "#....#.##.##....#..#...........", "...#.#.#.#..#.#..#.#..#.##.....", "#.....#######.###.##.#.#.#.....", "..#.##.....##......#...#.......", "..#....#..#...##.#..#..#..#..#.", ".............#.##....#.........", ".#....#.##.....#...............", ".#............#....#...#.##....", ".#.....#.##.###.......#..#.....", ".#...#.........#.......#..#....", "..#.#..#.##.......##...........", ".....##..#..#..#..#.##..#.....#", "..##............##...#..#......", "...#..#....#..##.....##..#.#...", "#.....##....#.#.#...#...#..##.#", "#.#..#.........#.##.#...#.#.#..", ".....#.#....##....#............", "#.......#..#.....##..#...#...#.", ".....#.#...#...#..#......#.....", "..##....#.#.#.#.#..#...........", "##..#...#.........#......#...#.", "..#...#.#.#.#..#.#.##..##......", "#............###.....###.......", "..........#...#........###.....", ".......##...#...#...#........#.", ".#..#.##.#.....................", ".#..##........##.##...#.......#", ".......##......#.....#......#..", ".##.#.....#......#......#......", "#...##.#.#...#.#...............", "........#..#...#.##.......#....", "...................#...#...##..", "...#...#.........#.....#..#.#..", ".###..#........#..##.##..#.##..", "#...#.....#.....#.....#..#..#..", "###..#.....#.#.#.#......#....#.", "#........#....##.#...##........", ".#.#..##........##....##.#.#...", "#...#....#.###.#.#.........#...", "...#...##..###.......#.........", "......#....#..##..#.....#.#....", "........#...##...###......##...", "..........##.#.......##........", "...#....#......#...##.....#....", "###.#.....#.#..#..#....#...#..#", ".#.....#.#....#...............#", "..#....#....####....###....#.#.", "....##........#..#.##.#....#...", ".......##...#...#..#....####...", "#...##.#......##...#..#........", "..##..#.##....#.......##.#.#...", "..#.#...............#...#.#....", "....#.....#.#.....#.##.......#.", "...#.#..##.#.#..............##.", "..#.....#...#.............#.##.", "##..#.#...#........#..#.....##.", "...........##...#.#.###...#....", "...#.#.#..#..................#.", ".#...##.............#...#......", "..#..#...#.#.......#...#.....#.", "..##.......#.#.................", ".##..#........###.....#....#.##", "......#..###.......#....##....#", "....#.....#.................#..", "........#...#...#..............", "...#..#.###.......#..#.#.#.##..", "..#...#.....#....#.........#...", "...#.............#........###..", "......#..............#......#..", "#..#...........#...#..........#", "...##...#.###..#...#.....#.#...", "....#..##......#.......##......", "....#....##.#...#.#..#....#...#", ".#...........#..#....##...#..##", "..#.#.................###.#...#", "..#.#.#...##...........#.......", "..........#..##...#.#..##....##", "........#........#.##..#.#...#.", ".....#...##.......##......#...#", "....#...#..#..#.....#..........", ".#..#......#..#..#..###.......#", ".##..........#...#...#.#.....##", "..#..........#.#.#...###.......", "....#................#...##....", ".##..#....#..........#.#.#.....", "..##...#.#........#.....#.##...", "....####.....#..#.........##..#", "......#.........#...#..........", "....#...................#..##..", ".##....#.#.........#....#...#..", "....##...##.....#..####........", "..##.#....#.#.......##...#.....", "#...#.#.#...#..#..##.....#.....", "#..................###.....#...", "#.#.....#.......#.#...###.#....", ".#..#....#............#........", "#.#....#..#.#...............#..", "..#..#..#.............#......#.", "..#.......##...................", ".#....#.........#....#.#.#..#..", "....#....#..#...............#..", "......#..#..##......#.........#", "..#.##........##......#..#..#.#", "#.....#.#....#.........##...#..", "###..............#....###...##.", "....#..##......#.......##......", "......#...#.##......##....#..#.", "..........#....#..##.......#..#", ".#..#...##..#...........#..#..#", ".....#....#...#..###...###....#", ".#####..#...#.#.#..#.#.###...##", "..##............##.#...#.##...#", ".##..#...#...#....##.#..#..##..", ".#....#...#............##..#...", ".#.#......#....#....#..##..##..", ".........#...#.......#.##..#...", "#.........#.....##.....#..#..#.", "...##.#...#...#..#..#....##..##", ".#............#...#....##......", "..#...#.##.........#.#......#.#", "....#.##........#.........#..##", "#.........#......#.#......#..#.", "........#.#.......#.#........#.", "..#..........##.#...#..#.#.....", "..#...#....#...#...#..#.#..#.#.", ".#.........#....#..#####..#....", "#.#....#.#.###...#.............", "..##...........##......##......", "#.....#..#....#...............#", "...#.#..#....##......#...##....", "...#........#.....#...#..#.....", ".#......##.........#......#....", "..#..###.##...#.#.....#........", ".............#......#..#.......", "..#...............#.#...#..#..#", ".......#..#...#.#####......#..#", ".........#.....#...............", "##........#............#.#.....", ".#...#.....#..#..#...#....#...#", "..#....#....##......##.....#.#.", "#...##..##......#...#....#.....", "....#.#.#.....###....##.##....#", "..........##...##.......#......", "..#.......#...##.#....##.##....", "....#........................#.", "...#...#.#.##...#.....#...#..#.", ".#....##..#..#..........##..##.", ".#.....#..#...#.##.....#.......", ".#.##...#.#..#.....##....#...#.", ".##...#........##....#..#......", ".....#........#..........#.#..#", "....#..##.......#..#.....#.....", "...........#...#........#.##..#", ".....#..#....#..#.#.....#....##", ".....#....#.##.#..##...........", "...##.......##.........#.......", "...............##..#....#.#....", ".......###..#........#..####.##", ".......#.##...#.#....#.####....", "....#...............#..........", "##.#.......#.....#......#...#..", "......##.....#....#.....#..#..#", ".....#...##.............#......", "#.#.##.#.....#..#........#.....", "......##....#..#........#......", "............#........#..#.#....", "##.......#......#...####..#.##.", "..##..#...#.............#.##...", ".....#..##......#.##......###..", "............#........#........#", "#.#.#.#...#.#.....#.........#..", ".........#...............#.....", ".............###.#.......#....#", "###.##..#..#..........#....#...", "#......#...#..#..#.....#.##....", "............#....#....#..#.....", "..#.#....#...#......#.#..#..##.", "...#........................#..", "#.#...#..........#......#.#....", ".........#................#...#", "##.....#....#........##.......#", "#...##........#...#...........#", "...#...#..........##.......#.#.", "..#.#.#....#......##...........", "...#.#...#.##.#..#.#.##........", "#....##.....###..#.......#.....", "###.....#.#.#...#..#.........##", "..#......#..###...#.#.#.....#.#", ".#....#.....#............#..##.", "....#....##..........#.....##..", "#...........#....#...#..#...##.", "..#.......#.....#..........#...", ".#..#................#......#..", "..#......#.#...#..#.#....#....#", "...#..#...###..#..##....#.#....", "..#..............#.....#.......", "...#.#...#.........#.#.........", "##......##...........##.#.##..#", "..#..##..#....#.#......#.#...##", "...#.###....###...#.....#......", "#.#................#......#....", "..#.....#.....#....##.......#..", ".#.#...............##..#.......", "...#....#.......#.#.....##..#..", ".........#....#.......#.#...##.", "#....#......##.#.........##...#", "#.............#..##.#.#..##....", "...#....#..#...#....#.#.#.#...#", ".#....#....#..##.....#.#...###.", "##............#.#...##.#..#.#..", "##.#....##.....#..#..###....#..", "##....#................##......", "...##..#...#..###....#.....##..", ".#...##......#..#.#.....#...#..", "..##......##...#.##.......#....", "......#.....#.....##........#.#", "##....#...........#............", "#.......#....#..#.##..##.#..#..", ".#....##.#.....#..#..#.........", ".#....#.#.#...#.....##.....#.#.", ".......##.#.#........#......##.", "##........#.##.......#...#..#..", "...###..##....#.#....#.#.......", "......#.......#...##.....#...#.", "..#......##.#......#.....#.....", ".....#.....###...#.............", "#...#.#...#...#..#......#......", "#.....#.......###.#....###.#...", "...#.......#....####....##..#..", "#.#.....#....#........#.......#", ".........#.......#......#.#...#", "..##....#.....##...............", "..........#..#.#..#......#.....", "..................##...##.#....", "........#.......#...#..#.#.#...", ".....#.#..##..#..#.#..#.......#", ".....#........#..#..#....#....#", "##............#..#..#...#....#.", ".....#....................##..#", "........##.#....###............", "##.......#.##................#.", ".....###.#..#..#...#....###.##.", ".#......#.#....#.....##.#......", "...##......##.........#...#....", "....####..............#........", "#...#.#..##..##.........##.....", "......#......#....#..#.........", "#.....#.....#.##...............", "..#.##..#...##.#.####..#....###", "#..#......#....#.##..##...#.#..", "#....#.......#.....#.....#.#...", "##.......#.....##...#.....#....", "...#...##..........#..##..##..#", ".###..#..##...#....#...#..#....", "......##..###.......###...#....", "....#...#.#.......#.##...##..##", "#.#......#..##.#.#..#..#..#....", "......#........#.......#.......", "..........#.#.....##...........", "......#..#........#..#.#..###..", "##..#.............##..#........", ".........#....#.....#.........#", ".....#..##...#..#..##.##......#", "###..#...........#.......#....#", "...............#....#.#........", ".##.#...#.#........##....#.....", ".##.###...##..###....#...#...#.", ".##..#....#.#.#...#.#.#.#...#..", ".###.#...#.......#....#..#.....", "..#..#.#.#.#........#.....##...", ".#.......#.#...#.#...........##", "...#.....##....#.....##...#....", "................#.....####...#.", ".#.#......#.......##...#.##....", ".###.........#.#......#..#.#...", "#......#...#....#..##.......#..", ".##..#....#..#...........#...#.", ".#...#.......##........#.##....", "..#...........#...##...........", ".....##....##......#....#..#...", "#......#.#...#.##.#...##....#..", "#....................#...##...#", "..#............#........#......", ".............#.........##.....#", "...#...#......##.#...#...#.#...", "..#...#.#.................#....", "....##...#....#...###.##......#", "...#....#...#..#...#....#.....#", "...##.#........#..#.........#..", "..##.....#..##...#.....##...#..", "#.........#.#.#...#......#...#.", "#.#...........#...#..#..#..##..", "..#..#..##....#..........#.###.", ".....#..#....#.#...#...#..#..#.", "###.....#..#.................#.", ".#..##.##.#......#....##..#....");
    private final static int maxHeight = matrix.size();
    private final static int maxWidth = matrix.get(0).length();

    public static int numbOfTrees(int sideStep, int upStep) {
        int currHeight = 0;
        int currWidth = 0;

        int treeCounter = 0;
        while (currHeight < maxHeight - 1) {
            currHeight += upStep;
            currWidth += sideStep;
            if (currWidth >= maxWidth) currWidth = currWidth % maxWidth;
            if (matrix.get(currHeight).charAt(currWidth) == '#') treeCounter++;
        }
        return treeCounter;
    }

    public static void main(String[] args) {
        long r1d1 = Day3.numbOfTrees(1, 1);
        long r3d1 = Day3.numbOfTrees(3, 1);
        long r5d1 = Day3.numbOfTrees(5, 1);
        long r7d1 = Day3.numbOfTrees(7, 1);
        long r1d2 = Day3.numbOfTrees(1, 2);

        System.out.println("Pt1: " + r3d1);
        System.out.println("Pt2: " + r1d1 * r3d1 * r5d1 * r7d1 * r1d2);


    }
}
